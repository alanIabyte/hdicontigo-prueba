(this["webpackJsonphdi-contigo"]=this["webpackJsonphdi-contigo"]||[]).push([[8],{1297:function(e,i,a){"use strict";i.a=a.p+"static/media/ico_lib_conductor_detenido.7722c123.svg"},1311:function(e,i,a){},1322:function(e,i,a){"use strict";a.r(i);var n,t,o,c,r,s,d,l,u,m,p,b,f=a(11),g=a(2),v=a(1),j=a(169),k=a(3),O=a(4),h=a(9),N=a(6),x=Object(O.a)(h.a)(n||(n=Object(k.a)(["\n  height: calc(100%);\n  position: relative;\n"]))),y=Object(O.a)(h.c)(t||(t=Object(k.a)(["\n  background-color: var(--fondo-gris-ligero);\n  border-radius: 0px;\n  height: calc(100% - 170px);\n  overflow: scroll;\n  overflow-x: hidden;\n"]))),D=O.a.div(o||(o=Object(k.a)(["\n  width: 100%;\n  min-height: calc(100% + 0px);\n  & > div:last-of-type {\n    margin-bottom: 100px;\n  }\n  ","\n"])),(function(e){return e.notificaciones&&"\n    & > div:last-of-type {\n      padding-bottom: 100px;\n    }\n  "})),S=Object(O.a)(N.s)(c||(c=Object(k.a)(["\n  margin-bottom: 15px;\n  margin-top: 30px;\n"]))),_=a(83),P=a(51),z=a(27),w=a(231),F=a(22),A=a(41),V=O.a.div(r||(r=Object(k.a)(["\n  border-bottom: 2px solid var(--fondo-gris-claro);\n  transition: all 0.3s ease;\n  margin-bottom: 20px;\n  padding: 14px 0;\n  background-color: var(--fondo-gris-normal);\n"]))),C=O.a.div(s||(s=Object(k.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: rcw;\n  align-items: flex-start;\n  box-sizing: border-box;\n  cursor: pointer;\n  margin-bottom: 5px;\n"]))),R=O.a.img(d||(d=Object(k.a)(["\n  width: 60px;\n  height: 60px;\n  margin-top: -10px;\n"]))),q=Object(O.a)(N.o)(l||(l=Object(k.a)(["\n  font-weight: bold;\n  margin-bottom: 0.2rem;\n"]))),M=(Object(O.a)(N.p)(u||(u=Object(k.a)([""]))),O.a.div(m||(m=Object(k.a)(["\n  width: 100%;\n  display: flex;\n  padding: 10px 0 5px 0;\n"])))),T=Object(O.a)(N.p)(p||(p=Object(k.a)(["\n  padding: 0;\n  margin: 0;\n  margin-left: auto;\n"]))),E=Object(O.a)(N.k)(b||(b=Object(k.a)([""]))),G=(a(1311),a.p+"static/media/inicio.fc8a7b59.svg"),L=a(32),I=a.n(L),$=(a(182),a.p+"static/media/Pago.bc37ab4e.svg"),H=a.p+"static/media/Pago gris.79305405.svg",Y=a.p+"static/media/Tarjeta.304e1cd9.svg",J=a.p+"static/media/Tarjeta gris.2afca0aa.svg",Q=a.p+"static/media/inicio_disabled.ce5aac74.svg",U=a.p+"static/media/Contrase\xf1a.c77eacd5.svg",W=a.p+"static/media/Contrase\xf1a gris.77aa912e.svg",B=a.p+"static/media/P\xf3liza.ee0e349d.svg",K=a.p+"static/media/P\xf3liza gris.a69534d5.svg",X=a.p+"static/media/Ajustador.46658a7d.svg",Z=a.p+"static/media/Ajustador gris.1ddfa3fd.svg",ee=a.p+"static/media/pase generado.54c740cb.svg",ie=a.p+"static/media/pase generado gris.588fca34.svg",ae=a.p+"static/media/valuacion de tu vehiculo.2736a706.svg",ne=a.p+"static/media/valuacion de tu vehiculo gris.1331b551.svg",te=a.p+"static/media/pago de deducible.369bf90f.svg",oe=a.p+"static/media/pago de deducilbe gris.8a69adb1.svg",ce=a.p+"static/media/indemnizacion de tu vehiculo.7f66242d.svg",re=a.p+"static/media/indemnizacion de tu vehiculo gris.ce1cdf23.svg",se=a.p+"static/media/requisitos pendientes.f40a96d8.svg",de=a.p+"static/media/requisitos pendientes gris.cd5313e6.svg",le=a.p+"static/media/Estatus de indemnizaci\xf3n.0da4b5c9.svg",ue=a.p+"static/media/Estatus de indemnizaci\xf3n gris.6186c78f.svg",me=a.p+"static/media/Pago de indemnizaci\xf3n realizado.ca315e43.svg",pe=a.p+"static/media/Pago de indemnizaci\xf3n realizado gris.f48addcb.svg",be=a(1297),fe=a.p+"static/media/ico_lib_conductor_detenido_disable.b807f612.svg",ge=a(0),ve="noti/estastusPagos/PolPendPago",je="noti/estastusPagos/PolCancelada",ke="noti/domiciliacion/noCancelarDomiciliacion",Oe="noti/domiciliacion/errorCobroTarjeta",he="noti/domiciliacion/pagoAplicado",Ne="noti/domiciliacion/modiDatosTarjeta",xe="noti/cambiarContrasenia/nuevaContrasenia",ye="noti/reporteSiniestro/reporteGenerado",De="noti/reporteSiniestro/asistenciaLegal/reporteGenerado",Se="noti/reporteSiniestro/reporteNoGenerado",_e="noti/asignacionAjustador/ajustadroAsignado",Pe="noti/asignacionAjustador/ajustadorLlego",ze="noti/seguimientoAjuste/paseGenerado",we="noti/seguimientoRep/valuaci\xf3nVehiculo",Fe="noti/seguimientoRep/puedeRealizarPago",Ae="noti/procesoIndemnizacion/indemnizacionVehiculo",Ve="noti/procesoIndemnizacion/requisitosPendientes",Ce="noti/procesoIndemnizacion/estatusIndemnizacion",Re="noti/procesoIndemnizacion/pagoRealizado",qe=[{icono:$,iconoDisabled:H,redirect:!0,tipos:[ve,je]},{icono:Y,iconoDisabled:J,tipos:[ke,Oe,he,Ne]},{icono:U,iconoDisabled:W,tipos:[xe]},{icono:B,iconoDisabled:K,tipos:[ye,Se]},{icono:be.a,iconoDisabled:fe,tipos:[De,Se]},{icono:X,iconoDisabled:Z,tipos:[_e,Pe]},{icono:ee,iconoDisabled:ie,tipos:[ze]},{icono:ae,iconoDisabled:ne,tipos:[we]},{icono:te,iconoDisabled:oe,tipos:[Fe]},{icono:ce,iconoDisabled:re,tipos:[Ae]},{icono:se,iconoDisabled:de,tipos:[Ve]},{icono:le,iconoDisabled:ue,tipos:[Ce]},{icono:me,iconoDisabled:pe,tipos:[Re]}],Me=[{path:"/informacion-pagos",typeData:"state",tipos:[ve]},{path:"/detalle-poliza",typeData:"state",tipos:[je],containerShow:"informacionPoliza"},{path:"/detalle-poliza",typeData:"state",tipos:[Oe,Ne,he,ke],containerShow:"informacionPagos"},{path:"/pasos-progreso",typeData:"queryParams",tipos:[ye,_e,Pe,De]},{path:"/pasos-progreso",typeData:"queryParams",tipos:[ze]},{path:"",typeData:"noRedirect",tipos:[xe]}],Te=function(e,i){var a=qe.filter((function(i){return i.tipos.includes(e)}))[0];if(void 0!=a){var n=i?a.iconoDisabled:a.icono;return Object(ge.jsx)(R,{src:n,width:"50px",margin:"0 15px"})}var t=i?Q:G;return Object(ge.jsx)(R,{src:t})},Ee=a(89),Ge=a(529),Le=a(13),Ie=a(138),$e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id_noti"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"usuario"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notificaciones_leer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id_noti"},value:{kind:"Variable",name:{kind:"Name",value:"id_noti"}}},{kind:"Argument",name:{kind:"Name",value:"usuario"},value:{kind:"Variable",name:{kind:"Name",value:"usuario"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mensaje"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"codigo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"completado"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dato"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:168,source:{body:"mutation ($id_noti: Int!, $usuario: String!) {\r\n  notificaciones_leer(id_noti: $id_noti, usuario: $usuario) {\r\n    mensaje\r\n    codigo\r\n    completado\r\n    dato\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},He=function(e){var i=e.id,a=e.titulo,n=e.contenido,t=e.leido,o=e.tipo,c=e.infoadicional,r=e.fechaalta,s=e.usuario,d=e.funcValorCargando,l=(e.funcMarcarLeido,e.funcObtenerNotificaciones),u=Object(v.useState)(I()()),m=Object(g.a)(u,1)[0],p=Object(Ee.f)(),b=Object(Le.b)(),f=Object(Ie.a)(),j=f.redirect,k=f.redirectPathWithState,O=Object(Ge.a)($e,{fetchPolicy:"network-only"}),h=Object(g.a)(O,2),N=h[0],x=h[1],y=x.data,D=x.error,S=x.loading;Object(v.useEffect)((function(){!S&&S.notificaciones_leer&&S.notificaciones_leer.dato&&(console.log("respuestaLeerNotificacion",y),console.log("errorLeerNotificacion",D))}));var _=function(){var e=Object(A.a)(Object(F.a)().mark((function e(a){var n,t,o,r;return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),d(!0),e.next=4,N({variables:{id_noti:i,usuario:s}});case 4:if(void 0!==a&&""!==a){e.next=7;break}return d(!1),e.abrupt("return");case 7:n={},""!=c.trim()&&(n=JSON.parse(c)),e.t0=a.typeData,e.next="redux"===e.t0?12:"state"===e.t0?16:"queryParams"===e.t0?22:"noRedirect"===e.t0?27:30;break;case 12:return e.next=14,b({type:"AGREGAR",valor:n,indice:"informacionPolizaDetalle"});case 14:return j(a.path),e.abrupt("break",30);case 16:return t={poliza:n,tipo:n.lineaNegocio,modo:"Recibos"},a.containerShow&&(t.showContainer=a.containerShow),e.next=20,b({type:"AGREGAR",valor:n,indice:"informacionPolizaDetalle"});case 20:return k(a.path,t),e.abrupt("break",30);case 22:return o="?",Object.keys(n).forEach((function(e){o="".concat(o).concat(e,"=").concat(n[e],"&")})),r=a.path+o.slice(0,-1),p.push(r),e.abrupt("break",30);case 27:return l(),d(!1),e.abrupt("break",30);case 30:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}();return Object(ge.jsxs)(V,{onClick:function(){_(function(e){var i=Me.filter((function(i){return i.tipos.includes(e)}))[0];return void 0!=i?i:""}(o))},children:[Object(ge.jsxs)(C,{children:[Te(o,t),Object(ge.jsxs)(E,{children:[Object(ge.jsx)(q,{children:a}),Object(ge.jsx)("div",{dangerouslySetInnerHTML:{__html:n}})]})]}),Object(ge.jsx)(M,{children:Object(ge.jsx)(T,{children:function(e){var i=I()(e),a=m.diff(i,"minutes"),n=m.diff(i,"hours"),t=m.diff(i,"days"),o=(m.diff(i,"month"),m.diff(i,"years"));return a<=1?"Hace un momento":a>1&&a<60?"Hace ".concat(a," minutos"):n>=1&&n<24?"Hace ".concat(n," ").concat(1==n?"hora":"horas"):1==t?"Ayer a las ".concat(i.format("h:mm a")):t>1&&t<7?"El ".concat(i.format("dddd")," pasado"):t>=7&&o<1?"".concat(i.format("D")," de ").concat(i.format("MMM")," a las ").concat(i.format("h:mm a")):o>0?"".concat(i.format("D")," de ").concat(i.format("MMM")," del ").concat(i.format("YYYY")," a las ").concat(i.format("h:mm a")):"n/a"}(r)})})]})};He.defaultProps={id:0,titulo:"N/A",contenido:"",leido:0,tipo:"",infoadicional:"",fechaalta:"",usuario:"",funcValorCargando:function(){},funcMarcarLeido:function(){},funcObtenerNotificaciones:function(){}};var Ye=He,Je=a(122),Qe=a(826),Ue=a(832),We=a(143),Be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"usuario"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notificaciones_obtenerNotificaciones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"usuario"},value:{kind:"Variable",name:{kind:"Name",value:"usuario"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"codigo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"completado"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mensaje"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dato"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titulo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contenido"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"leido"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tipo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infoadicional"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fechaalta"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:259,source:{body:"query($usuario: String!) {\r\n  notificaciones_obtenerNotificaciones(usuario: $usuario) {\r\n    codigo\r\n    completado\r\n    mensaje\r\n    dato {\r\n      id\r\n      titulo\r\n      contenido\r\n      leido\r\n      tipo\r\n      infoadicional\r\n      fechaalta\r\n    }\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ke="Notificaciones",Xe="Ocurri\xf3 un error.",Ze=function(){var e=Object(v.useState)(!0),i=Object(g.a)(e,2),a=i[0],n=i[1],t=Object(v.useState)(!1),o=Object(g.a)(t,2),c=o[0],r=o[1],s=Object(v.useState)([]),d=Object(g.a)(s,2),l=d[0],u=d[1],m=Object(v.useState)(Xe),p=Object(g.a)(m,2),b=p[0],k=p[1],O=Object(v.useState)(!1),h=Object(g.a)(O,2),N=h[0],F=h[1],A=Object(Ie.a)().redirectRoot,V=Object(We.a)(),C=V.validateUser,R=V.user;C||A();var q=Object(Qe.b)(Be,{variables:{usuario:R},fetchPolicy:"network-only"}),M=q.data,T=q.loading,E=q.error,G=Object(Ue.a)(Be,{variables:{usuario:R},fetchPolicy:"network-only"}),L=Object(g.a)(G,2),I=L[0],$=L[1],H=$.data,Y=$.loading,J=$.error;Object(v.useEffect)((function(){!Y&&H&&H.notificaciones_obtenerNotificaciones&&H.notificaciones_obtenerNotificaciones.dato&&u(H.notificaciones_obtenerNotificaciones.dato),Y&&n(!0),Y||n(!1),J&&k(J)}),[Y,H,J]),Object(v.useEffect)((function(){!T&&M&&M.notificaciones_obtenerNotificaciones&&M.notificaciones_obtenerNotificaciones.dato&&u(M.notificaciones_obtenerNotificaciones.dato),T&&n(!0),T||n(!1),E&&k(E)}),[T,M,E]),Object(v.useEffect)((function(){r(Object(Je.c)())}),[c]);var Q=function(e){n(e)},U=function(e){if(l.findIndex((function(i){return i.id===e}))>-1){var i=l.map((function(i){return i.id===e?Object(f.a)(Object(f.a)({},i),{},{leido:1}):i}));u(i)}};return Object(ge.jsxs)(x,{children:[a?Object(ge.jsx)(z.a,{}):null,Object(ge.jsx)(_.a,{mostrarMenu:!c}),Object(ge.jsxs)(y,{children:[Object(ge.jsx)(P.default,{etiqueta:b,mostrarAlerta:N,manejarCierre:function(){F(!1)},estilo:"error",posicionAbsoluta:!0}),Object(ge.jsxs)(D,{children:[Object(ge.jsx)(S,{id:"titulo",children:Ke}),l.map((function(e){return Object(ge.jsx)(Ye,{id:e.id,titulo:e.titulo,contenido:e.contenido,leido:e.leido,tipo:e.tipo,infoadicional:e.infoadicional,fechaalta:e.fechaalta,usuario:R,funcValorCargando:Q,funcMarcarLeido:U,funcObtenerNotificaciones:I},e.id)})),l.length<1?Object(ge.jsx)("p",{children:"No tiene notificaciones"}):Object(ge.jsx)(ge.Fragment,{})]})]}),c?Object(ge.jsx)(w.a,{}):Object(ge.jsx)(ge.Fragment,{})]},Object(j.a)())};i.default=Ze}}]);