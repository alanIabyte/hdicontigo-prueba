(this["webpackJsonphdi-contigo"]=this["webpackJsonphdi-contigo"]||[]).push([[13],{1298:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a=a||{};!function(e){function n(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!n.codes){n.codes={};for(var a=0;a<n.chars.length;++a)n.codes[n.chars[a]]=a}if(!t.loose&&e.length*n.bits&7)throw new SyntaxError("Invalid padding");for(var r=e.length;"="===e[r-1];)if(--r,!t.loose&&!((e.length-r)*n.bits&7))throw new SyntaxError("Invalid padding");for(var i=new(t.out||Uint8Array)(r*n.bits/8|0),o=0,c=0,s=0,l=0;l<r;++l){var d=n.codes[e[l]];if(void 0===d)throw new SyntaxError("Invalid character "+e[l]);c=c<<n.bits|d,(o+=n.bits)>=8&&(o-=8,i[s++]=255&c>>o)}if(o>=n.bits||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return i}var t={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6};e.decode=function(e,a){return console.log("decode:",n(e,t,a)),n(e,t,a)},e.encode=function(e,n){return function(e,n){for(var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).pad,a=void 0===t||t,r=(1<<n.bits)-1,i="",o=0,c=0,s=0;s<e.length;++s)for(c=c<<8|255&e[s],o+=8;o>n.bits;)o-=n.bits,i+=n.chars[r&c>>o];if(o&&(i+=n.chars[r&c<<n.bits-o]),a)for(;i.length*n.bits&7;)i+="=";return i}(e,t,n)}}(a)},1331:function(e,n,t){"use strict";t.r(n);var a,r,i,o,c,s,l=t(11),d=t(22),u=t(41),m=t(2),p=t(1),b=t(89),f=t(13),g=t(529),v=t(169),j=t(9),h=t(48),k=t(3),y=t(4),O=t(6),x=y.a.div(a||(a=Object(k.a)(["\n  color: var(--texto-negro);\n  padding-bottom: ",";\n  padding-top: ",";\n  text-align: center;\n"])),(function(e){return e.margenMinimo?"5%":"25%"}),(function(e){return e.margenMinimo?"5%":"25%"})),N=y.a.div(r||(r=Object(k.a)(["\n  display: block;\n  margin-top: 25%;\n  margin-bottom: 20%;\n  margin-left: auto;\n  margin-right: auto;\n  /* TODO: Pendiente por probar esta alineaci\xf3n */\n  width: ",";\n  color: ",";\n"])),(function(e){return"contigo"===e.color?"":"50%"}),(function(e){return"rojo"===e.color?"var(--icono-rojo)":"amarillo"===e.color?"var(--icono-amarillo)":"verde"===e.color?"var(--color-marca-normal)":"var(--color-azul-normal)"})),w=Object(y.a)(O.s)(i||(i=Object(k.a)(["\n  margin-bottom: 20px;\n  margin-top: 15px;\n  color: var(--color-negro-puro);\n"]))),C=Object(y.a)(O.k)(o||(o=Object(k.a)(["\n  margin-bottom: 30px;\n  color: var(--color-negro-puro);\n\n  b {\n    font-family: var(--fuente-proxima-bold);\n  }\n"]))),S=y.a.div(c||(c=Object(k.a)(["\n  margin-top: 25%;\n  ","\n"])),(function(e){return"ladoALado"===e.estiloBotones&&"\n    display: flex;\n    flex-direction:row;\n    justify-content: space-around;\n    align-items: center;\n    button {\n      width: 45%;\n      min-width: auto;\n      margin: 0;\n    }\n    div {\n      margin: 0;\n      width: 45%;\n      button{\n        width: 100%;\n      }\n    }\n  "})),E=y.a.div(s||(s=Object(k.a)(["\n  margin-top: 20px;\n"]))),A=(t(620),t.p+"static/media/biometrico1.7a180eb1.svg"),K=t(29),M=t(1298),I=t(122);function T(e){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(Object(d.a)().mark((function e(n){var t,a,r,i,o,c,s,l,u;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.PublicKeyCredential){e.next=3;break}return alert("WebAuthn is not supported by this browser. Try another one or contact your administrator."),e.abrupt("return");case 3:return"yFyJCHE2TJmWNMGsAWtDPw","NDRlNmJhNTMtYTM4YS00YTFjLWE3MmEtNWMzNGM3MmNiYjEz","-7",t=R("-7"),"HDI-Contigo",a={name:"HDI-Contigo"},r={challenge:M.a.decode("yFyJCHE2TJmWNMGsAWtDPw",{loose:!0}),rp:a,user:{id:M.a.decode("NDRlNmJhNTMtYTM4YS00YTFjLWE3MmEtNWMzNGM3MmNiYjEz",{loose:!0}),name:n,displayName:n},pubKeyCredParams:t},i=window.location.hostname,r.rp.id=i,"not specified",o={},!1,"not specified"!==(c=Object(I.c)()?"platform":"cross-platform")&&(o.authenticatorAttachment=c,!0),"Yes",o.requireResidentKey=!0,!0,s="required",o.userVerification=s,!0&&(r.authenticatorSelection=o),0,"",(l=z("")).length>0&&(r.excludeCredentials=l),e.next=30,navigator.credentials.create({publicKey:r}).then((function(e){if(window.result=e,e.response.clientDataJSON,e.response.attestationObject,u=e.rawId,"function"===typeof e.response.getTransports){var n=e.response.getTransports();n&&console.log("#transports:",V(n))}else console.log("Your browser is not able to recognize supported transport media for the authenticator.")})).catch((function(e){console.log("error:",e)}));case 30:return e.abrupt("return",M.a.encode(new Uint8Array(u),{pad:!1}));case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){var n=[];if(""===e)return n.push({type:"public-key",alg:-7}),n;for(var t=e.split(","),a=0;a<t.length;a++)n.push({type:"public-key",alg:t[a]});return n}function z(e){var n=[];if(""===e)return n;for(var t=e.split(","),a=0;a<t.length;a++)n.push({type:"public-key",id:M.a.decode(t[a],{loose:!0})});return n}function V(e){if(""===e||e.constructor!==Array)return"";for(var n="",t=0;t<e.length;t++)n+=e[t]+",";return n.slice(0,-1)}var F=t(27),Y=t(23),B=t(0),J={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"usuario"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"publicKeyCredentialId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"token"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"RegisterKeyCredential"},arguments:[{kind:"Argument",name:{kind:"Name",value:"usuario"},value:{kind:"Variable",name:{kind:"Name",value:"usuario"}}},{kind:"Argument",name:{kind:"Name",value:"publicKeyCredentialId"},value:{kind:"Variable",name:{kind:"Name",value:"publicKeyCredentialId"}}},{kind:"Argument",name:{kind:"Name",value:"token"},value:{kind:"Variable",name:{kind:"Name",value:"token"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"codigo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"completado"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mensaje"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dato"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:267,source:{body:"mutation ($usuario: String!, $publicKeyCredentialId: String!, $token: String!) {\r\n  RegisterKeyCredential(\r\n    usuario: $usuario\r\n    publicKeyCredentialId: $publicKeyCredentialId\r\n    token: $token\r\n  ) {\r\n    codigo\r\n    completado\r\n    mensaje\r\n    dato\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},W="Biometricos",q="Verifica tu identidad",G="Para continuar es necesario que valides tus datos biom\xe9tricos, ya sea, Huella, Face ID o Patr\xf3n.",H={textoEncabezado:"Informaci\xf3n registrada",tipoIcono:"palomita",colorAlerta:"verde",textoCuerpo:"Ahora podr\xe1s ingresar con tus datos biometricos a HDI Contigo",etiquetaBoton:"Aceptar"},P={textoEncabezado:"Error",tipoIcono:"trianguloAlerta",colorAlerta:"verde",textoCuerpo:"Hubo un error int\xe9ntalo m\xe1s tarde.",etiquetaBoton:"Aceptar"},L=function(){var e=Object(f.b)(),n=Object(f.c)((function(e){return e})),t=Object(b.f)(),a=Object(p.useState)(!1),r=Object(m.a)(a,2),i=r[0],o=r[1],c=Object(p.useState)(!1),s=Object(m.a)(c,2),k=s[0],y=s[1],O=Object(p.useState)(!1),M=Object(m.a)(O,2),I=M[0],D=M[1],R=Object(p.useState)(n&&n.informacionContacto?n.informacionContacto:{telefono:"",email:"",token:""}),z=Object(m.a)(R,2),V=z[0],L=(z[1],Object(g.a)(J)),$=Object(m.a)(L,2),U=$[0],Q=$[1],X=Q.data,Z=Q.loading,_=Q.error;return Object(p.useEffect)((function(){if(!Z&&X)return X.RegisterKeyCredential&&X.RegisterKeyCredential.dato&&X.RegisterKeyCredential.completado?(e({type:"AGREGAR",valor:!1,indice:"registraBiometricosExistente"}),y(!0)):X.RegisterKeyCredential&&X.RegisterKeyCredential.mensaje&&(console.log(X.RegisterKeyCredential.mensaje),D(!0)),void o(!1);Z?o(!0):_&&(o(!1),D(!1))}),[Z,X,_]),Object(B.jsxs)(j.a,{children:[i?Object(B.jsx)(F.a,{}):null,Object(B.jsx)(h.a,{mostrarBotonRegresar:!1,titulo:W}),Object(B.jsx)(Y.a,Object(l.a)(Object(l.a)({},H),{},{mostrarModal:k,funcionLlamadaBoton:function(){t.push("/mis-polizas")},manejarCierre:function(){t.push("/mis-polizas")}})),Object(B.jsx)(Y.a,Object(l.a)(Object(l.a)({},P),{},{mostrarModal:I,funcionLlamadaBoton:function(){D(!1)},manejarCierre:function(){D(!1)}})),Object(B.jsx)(j.c,{id:"pantalla",children:Object(B.jsxs)(x,{id:"cuerpo",margenMinimo:!0,children:[Object(B.jsx)(N,{id:"icono",tipo:"contigo",children:Object(B.jsx)("img",{alt:"imagen",src:A})}),Object(B.jsx)(w,{id:"encabezado",children:q}),Object(B.jsx)(C,{id:"texto",children:G}),Object(B.jsxs)(S,{id:"alertaBotones",children:[Object(B.jsx)(K.a,{etiqueta:"Continuar",tema:"estandar",enClick:function(){var e=function(){var e=Object(u.a)(Object(d.a)().mark((function e(){var n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(V.telefono);case 3:(n=e.sent)&&U({variables:{usuario:V.telefono,token:V.token,publicKeyCredentialId:n}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error registrando la clave de seguridad",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}}),Object(B.jsx)(E,{children:Object(B.jsx)(K.a,{etiqueta:"En otro momento",tema:"simple",enClick:function(){t.push("/mis-polizas")}})})]})]})})]},Object(v.a)())};n.default=L}}]);